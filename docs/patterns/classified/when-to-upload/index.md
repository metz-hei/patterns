# Когда загружать справочники
Загрузить справочник можно в разный отрезок времени. Выбирайте наиболее подходящий вариант, чтобы создать приятный юзер экспириенс.

## В момент загрузки страницы
Справочник загружается вместе со страницей с которой он вызывается.

### Подойдет
Когда поле со справочником имеет предзаполненное значение. Соответственно, чтобы его предзаполнить придется загрузить справочник, если бэкенд не умеет отдавать только предзаполненные значения, в этом случае см. вариант «При вызове».

Когда поле со справочником не предзаполняется, но находится в начале страницы и велика вероятность, что пользователь вызовет его в первую очередь. В этом случае, логично подгрузить справочник сразу, чтобы при вызове справочника страница с ним открылась мгновенно.

### Плюсы
Все загруженные ранее справочники откроются мгновенно.

### Минусы
1. На загрузку справочника уходит какое-то время, и всё это время пользователь не может пользоваться основной страницей.
2. Справочники, которые не загружались, придется загружать отдельно.
3. Если хотя бы один справочник на странице не загрузится, то формой ввода уже не воспользоваться и надо перезапускать экран.

### Как это выглядит
* 1. Пользователь вызывает экран с предзаполненными справочниками.
- 2. Система осуществляет переход на экран.
- 3. Система визуализирует загрузку данных: 
    - 3.1. Система отображает навбар + Skeleton. Предпочтительный вариант.
    1. Система отображает пустой экран с незаполненными полями, накладывает Popup Overlay + Preloader и блокирует взаимодействие с экраном.
    2. Система отображает только навбар + Preloader.
1. Система начинает выполнять необходимые проверки и загружать данные, в том числе для справочников.
2. После полной загрузки всех данных, система закрывает Popup Overlay + Preloader и обновляет экран, обогащая незаполненные поля загруженными данными.


